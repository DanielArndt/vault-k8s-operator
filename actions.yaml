# Copyright 2023 Canonical Ltd.
# See LICENSE file for licensing details.

authorize-charm:
  description: >-
    Authorizes the charm to be able to interact with Vault to manage its operations. The root token
    is required for Vault to use to create its own policy and approle once, then discard.
  params:
    root-token:
      type: string
      description: >-
        A token with root permissions. It is recommended to have a ttl on this token.
  required: [root-token] 

create-backup:
  description: >-
    Creates a snapshot of the Raft backend and saves it to the S3 storage.
    Returns backup ID.

list-backups:
  description: >-
    Lists all available backups.

restore-backup:
  description: >-
    Restores a backup from the S3 storage to the Raft backend.
    Returns backup ID.
  params:
    backup-id:
      type: string
      description: >-
        Backup ID to restore.
  required: [backup-id]